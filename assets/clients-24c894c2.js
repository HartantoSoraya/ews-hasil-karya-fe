import{u as V}from"./client-d92f7aa8.js";import{c as m}from"./permissionHelper-bea28319.js";import{Q as T,r as D,R as A,Z as B,e as N,o as s,J as U,l as a,f as r,i as e,c as t,I as i,t as E,U as d,s as v,O as u,K as R,j as z}from"./index-19627c6f.js";import{a as x,c as j,e as F,V as p,f as K,d as S}from"./VTextField-3c136c46.js";import{V as H}from"./VDialog-4dc2a923.js";import"./VGrid-811bdf3a.js";import"./VOverlay-f5a0fce8.js";const I=z("h2",{class:"mb-0"}," Client ",-1),P={__name:"clients",setup(J){const h=[{text:"Kode",value:"code",width:100},{text:"Nama",value:"name"},{text:"Alamat",value:"address"},{text:"Telepon",value:"phone"},{text:"Email",value:"email"},{text:"Aksi",value:"operation",width:300}],{clients:k,loading:f,error:y,success:n}=T(V()),{fetchClients:C,deleteClient:g,activateClient:M}=V();C();async function b(_){confirm("Apakah Anda yakin ingin menghapus client ini?")&&(await g(_.id),C())}const c=D("");return A(()=>{document.title="Client"}),B(()=>{y.value=null}),(_,o)=>{const w=N("EasyDataTable");return s(),U(R,null,[a(n)?(s(),r(H,{key:0,modelValue:a(n),"onUpdate:modelValue":o[1]||(o[1]=l=>v(n)?n.value=l:null),"max-width":"400"},{default:e(()=>[t(x,null,{default:e(()=>[t(j,null,{default:e(()=>[i(E(a(n)),1)]),_:1}),t(F,null,{default:e(()=>[t(d,{color:"primary",text:"",onClick:o[0]||(o[0]=l=>n.value=null)},{default:e(()=>[i(" Tutup ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])):u("",!0),t(S,null,{default:e(()=>[t(p,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:e(()=>[I,a(m)("client-create")?(s(),r(d,{key:0,to:"/app/client/create",color:"primary"},{default:e(()=>[i(" Tambah Client ")]),_:1})):u("",!0)]),_:1}),t(p,{cols:"12"},{default:e(()=>[t(K,{modelValue:a(c),"onUpdate:modelValue":o[2]||(o[2]=l=>v(c)?c.value=l:null),label:"Cari Client",placeholder:"Cari client",clearable:"",loading:a(f),variant:"solo"},null,8,["modelValue","loading"])]),_:1}),t(p,{cols:"12"},{default:e(()=>[t(x,null,{default:e(()=>[t(w,{headers:h,items:a(k),loading:a(f),"search-value":a(c),"buttons-pagination":"","show-index":"",class:"data-table"},{"item-operation":e(l=>[a(m)("client-edit")?(s(),r(d,{key:0,to:{name:"app-client-edit",params:{id:l.id}},color:"primary",size:"small",class:"m-5"},{default:e(()=>[i(" Ubah ")]),_:2},1032,["to"])):u("",!0),a(m)("client-list")?(s(),r(d,{key:1,to:{name:"app-client-view",params:{id:l.id}},color:"info",size:"small"},{default:e(()=>[i(" Detail ")]),_:2},1032,["to"])):u("",!0),a(m)("client-delete")?(s(),r(d,{key:2,color:"error",size:"small",class:"m-5",onClick:()=>b(l)},{default:e(()=>[i(" Hapus ")]),_:2},1032,["onClick"])):u("",!0)]),_:1},8,["items","loading","search-value"])]),_:1})]),_:1})]),_:1})],64)}}};export{P as default};
