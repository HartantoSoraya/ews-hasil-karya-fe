import{u as D}from"./ews-device-004ac032.js";import{d as h,Q as N,r as n,R as B,e as C,o as M,f as R,i as t,c as l,U as j,I as _,l as e,t as H,j as E}from"./index-19627c6f.js";import{V as i,a as P,d as x,f as u}from"./VTextField-3c136c46.js";import{V as A}from"./VForm-9c2cc0e3.js";import"./VGrid-811bdf3a.js";const F=E("h2",{class:"mb-0"}," EWS Device ",-1),I=E("label",null,"History Alamat",-1),X={__name:"ews-device",setup(Q){const K=[{text:"Tanggal",value:"created_at"},{text:"Provinsi",value:"province"},{text:"Kabupaten/Kota",value:"regency"},{text:"Kecamatan",value:"district"},{text:"Kelurahan/Desa",value:"subdistrict"},{text:"Alamat",value:"address"},{text:"Deskripsi",value:"description"}],w=h(),{loading:s,error:a}=N(D()),{fetchEwsDevice:T,updateEwsDevice:q}=D(),S=w.params.id,c=n(""),m=n(""),v=n(""),p=n(""),g=n(""),b=n(""),V=n(""),k=n(""),f=n(""),y=n([]),U=async()=>{try{const r=await T(S);c.value=r.code,m.value=r.name,v.value=r.type,p.value=r.province,g.value=r.regency,b.value=r.district,V.value=r.subdistrict,k.value=r.address,f.value=r.description,y.value=r.address_histories}catch(r){console.error(r)}};return B(()=>{U(),document.title="Ubah EWS Device"}),(r,o)=>{const W=C("EasyDataTable");return M(),R(x,null,{default:t(()=>[l(i,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:t(()=>[F,l(j,{to:{name:"app-ews-device"},color:"primary"},{default:t(()=>[_(" Kembali ")]),_:1})]),_:1}),l(i,{cols:"12"},{default:t(()=>[l(P,null,{default:t(()=>[l(A,null,{default:t(()=>[l(x,null,{default:t(()=>[l(i,{cols:"12",md:"6"},{default:t(()=>[l(u,{modelValue:c.value,"onUpdate:modelValue":o[0]||(o[0]=d=>c.value=d),label:"Kode",placeholder:"Kode EWS Device","error-messages":e(a)&&e(a).code?[e(a).code]:[],disabled:e(s),loading:e(s),readonly:""},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(u,{modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=d=>m.value=d),label:"Nama",placeholder:"Nama EWS Device","error-messages":e(a)&&e(a).name?[e(a).name]:[],disabled:e(s),loading:e(s),readonly:""},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(u,{modelValue:v.value,"onUpdate:modelValue":o[2]||(o[2]=d=>v.value=d),label:"Tipe",placeholder:"Tipe EWS Device","error-messages":e(a)&&e(a).type?[e(a).type]:[],disabled:e(s),loading:e(s),readonly:""},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(u,{modelValue:p.value,"onUpdate:modelValue":o[3]||(o[3]=d=>p.value=d),label:"Provinsi",placeholder:"Provinsi EWS Device","error-messages":e(a)&&e(a).province?[e(a).province]:[],disabled:e(s),loading:e(s),readonly:""},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(u,{modelValue:g.value,"onUpdate:modelValue":o[4]||(o[4]=d=>g.value=d),label:"Kabupaten/Kota",placeholder:"Kabupaten/Kota EWS Device","error-messages":e(a)&&e(a).regency?[e(a).regency]:[],disabled:e(s),loading:e(s),readonly:""},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(u,{modelValue:b.value,"onUpdate:modelValue":o[5]||(o[5]=d=>b.value=d),label:"Kecamatan",placeholder:"Kecamatan EWS Device","error-messages":e(a)&&e(a).district?[e(a).district]:[],disabled:e(s),loading:e(s),readonly:""},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(u,{modelValue:V.value,"onUpdate:modelValue":o[6]||(o[6]=d=>V.value=d),label:"Kelurahan/Desa",placeholder:"Kelurahan/Desa EWS Device","error-messages":e(a)&&e(a).subdistrict?[e(a).subdistrict]:[],disabled:e(s),loading:e(s),readonly:""},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),l(i,{cols:"12",md:"6"},{default:t(()=>[l(u,{modelValue:f.value,"onUpdate:modelValue":o[7]||(o[7]=d=>f.value=d),label:"Deskripsi",placeholder:"Deskripsi EWS Device","error-messages":e(a)&&e(a).description?[e(a).description]:[],disabled:e(s),loading:e(s),readonly:""},null,8,["modelValue","error-messages","disabled","loading"])]),_:1}),l(i,{cols:"12"},{"item-created_at":t(d=>[_(H(d.created_at),1)]),default:t(()=>[I,l(W,{headers:K,items:y.value,loading:e(s),"no-data-text":e(s)?"Memuat data...":"Tidak ada data","no-results-text":e(s)?"Memuat data...":"Tidak ada data","loading-text":e(s)?"Memuat data...":"Tidak ada data","error-text":e(a)?"Terjadi kesalahan saat memuat data":"Tidak ada data","show-index":"",class:"data-table"},null,8,["items","loading","no-data-text","no-results-text","loading-text","error-text"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}};export{X as default};
