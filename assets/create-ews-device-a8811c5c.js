import{Q as B,r as i,R as G,Z as H,w as y,o as J,f as L,i as o,c as a,U,I as w,W as X,l,j as Y}from"./index-19627c6f.js";import{u as C}from"./ews-device-004ac032.js";import{u as j}from"./region-66ba9fe3.js";import{V as r,a as $,d as F,f as x}from"./VTextField-3c136c46.js";import{V as h}from"./VForm-9c2cc0e3.js";import{a as _,V as M}from"./VTextarea-78ec0b37.js";import"./VGrid-811bdf3a.js";import"./VSelect-8d815467.js";import"./VMenu-c409457e.js";import"./VOverlay-f5a0fce8.js";const ee=Y("h2",{class:"mb-0"}," Tambah Ews Device ",-1),ce={__name:"create-ews-device",setup(le){const{loading:O,error:t}=B(C()),{createEwsDevice:P}=C(),{provinces:T,regencies:D,districts:N,subdistricts:R}=B(j()),{fetchProvinces:W,fetchRegencies:I,fetchDistricts:Q,fetchSubdistricts:Z}=j();W();const v=i("AUTO"),p=i(""),f=i(""),d=i(""),n=i(""),c=i(""),V=i(""),g=i(""),b=i(""),S=()=>{v.value="AUTO",p.value="",f.value="",d.value="",n.value="",c.value="",V.value="",g.value="",b.value=""},q=()=>{var K,E,k,A;const u=(K=T.value.find(m=>m.id===d.value))==null?void 0:K.name,s=(E=D.value.find(m=>m.id===n.value))==null?void 0:E.name,e=(k=N.value.find(m=>m.id===c.value))==null?void 0:k.name,z=(A=R.value.find(m=>m.id===V.value))==null?void 0:A.name;P({code:v.value,name:p.value,type:f.value,province:u,regency:s,district:e,subdistrict:z,address:g.value,description:b.value})};return G(()=>{document.title="Tambah EWS Device"}),H(()=>{S(),t.value=null}),y(d,u=>{I(u)}),y(n,u=>{Q(u)}),y(c,u=>{Z(u)}),(u,s)=>(J(),L(F,null,{default:o(()=>[a(r,{cols:"12",class:"d-flex justify-space-between align-items-center"},{default:o(()=>[ee,a(U,{to:{name:"app-ews-device"},color:"primary"},{default:o(()=>[w(" Kembali ")]),_:1})]),_:1}),a(r,{cols:"12"},{default:o(()=>[a($,null,{default:o(()=>[a(h,{onSubmit:X(q,["prevent"])},{default:o(()=>[a(F,null,{default:o(()=>[a(r,{cols:"12",md:"6"},{default:o(()=>[a(x,{modelValue:v.value,"onUpdate:modelValue":s[0]||(s[0]=e=>v.value=e),label:"Kode",readonly:""},null,8,["modelValue"])]),_:1}),a(r,{cols:"12",md:"6"},{default:o(()=>[a(x,{modelValue:p.value,"onUpdate:modelValue":s[1]||(s[1]=e=>p.value=e),label:"Nama","error-messages":l(t)&&l(t).name?[l(t).name]:[]},null,8,["modelValue","error-messages"])]),_:1}),a(r,{cols:"12",md:"12"},{default:o(()=>[a(x,{modelValue:f.value,"onUpdate:modelValue":s[2]||(s[2]=e=>f.value=e),label:"Tipe","error-messages":l(t)&&l(t).type?[l(t).type]:[]},null,8,["modelValue","error-messages"])]),_:1}),a(r,{cols:"12",md:"6"},{default:o(()=>[a(_,{modelValue:d.value,"onUpdate:modelValue":s[3]||(s[3]=e=>d.value=e),label:"Provinsi",items:l(T),"error-messages":l(t)&&l(t).province?[l(t).province]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),a(r,{cols:"12",md:"6"},{default:o(()=>[a(_,{modelValue:n.value,"onUpdate:modelValue":s[4]||(s[4]=e=>n.value=e),label:"Kabupaten/Kota",items:l(D),"error-messages":l(t)&&l(t).regency?[l(t).regency]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),a(r,{cols:"12",md:"6"},{default:o(()=>[a(_,{modelValue:c.value,"onUpdate:modelValue":s[5]||(s[5]=e=>c.value=e),label:"Kecamatan",items:l(N),"error-messages":l(t)&&l(t).district?[l(t).district]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),a(r,{cols:"12",md:"6"},{default:o(()=>[a(_,{modelValue:V.value,"onUpdate:modelValue":s[6]||(s[6]=e=>V.value=e),label:"Kelurahan/Desa",items:l(R),"error-messages":l(t)&&l(t).subdistrict?[l(t).subdistrict]:[],"item-title":e=>e.name,"item-value":e=>e.id},null,8,["modelValue","items","error-messages","item-title","item-value"])]),_:1}),a(r,{cols:"12"},{default:o(()=>[a(M,{modelValue:g.value,"onUpdate:modelValue":s[7]||(s[7]=e=>g.value=e),label:"Alamat","error-messages":l(t)&&l(t).address?[l(t).address]:[]},null,8,["modelValue","error-messages"])]),_:1}),a(r,{cols:"12"},{default:o(()=>[a(M,{modelValue:b.value,"onUpdate:modelValue":s[8]||(s[8]=e=>b.value=e),label:"Deskripsi","error-messages":l(t)&&l(t).description?[l(t).description]:[]},null,8,["modelValue","error-messages"])]),_:1}),a(r,{cols:"12",md:"6",class:"d-flex gap-4"},{default:o(()=>[a(U,{type:"submit",loading:l(O),color:"primary"},{default:o(()=>[w(" Simpan ")]),_:1},8,["loading"]),a(U,{color:"secondary",variant:"tonal",onClick:S},{default:o(()=>[w(" Reset ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{ce as default};
